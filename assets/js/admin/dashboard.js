(()=>{document.addEventListener("DOMContentLoaded",function(){let o=document.getElementById("digicommerce-refresh-stats");if(o){let r=0;o.addEventListener("click",function(a){a.preventDefault(),o.classList.add("active"),r+=360,fetch(DigiCommerceData.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"digicommerce_refresh_sales_stats",nonce:DigiCommerceData.nonce})}).then(n=>{if(!n.ok)throw new Error("Network response was not ok");return n.json()}).then(n=>{if(n.success){let e=n.data,t=document.querySelector(".digicommerce-dashboard");t.querySelector(".digicommerce-current-month .earnings span").textContent=e.month.earnings_formatted,t.querySelector(".digicommerce-current-month .sales span").textContent=e.month.sales,t.querySelector(".digicommerce-today .earnings span").textContent=e.today.earnings_formatted,t.querySelector(".digicommerce-today .sales span").textContent=e.today.sales,t.querySelector(".digicommerce-last-month .earnings span").textContent=e.last_month.earnings_formatted,t.querySelector(".digicommerce-last-month .sales span").textContent=e.last_month.sales,t.querySelector(".digicommerce-total .earnings span").textContent=e.all_time.earnings_formatted,t.querySelector(".digicommerce-total .sales span").textContent=e.all_time.sales}}).catch(n=>{console.error("There was a problem with the fetch operation:",n)}).finally(()=>{setTimeout(()=>{o.classList.remove("active")},1e3)})})}});})();
